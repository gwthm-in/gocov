# gocov

Coverage reporting tool for The Go Programming Language

## Installation

```go install github.com/gwthm-in/gocov/gocov@latest```

## Usage

There are currently four gocov commands: ```test```, ```convert```,
```report``` and ```annotate```.

#### gocov test

Running `gocov test [args...]` will run `go test [args...]` with
an implicit `-coverprofile` added, and then output the result of
`gocov convert` with the profile.

#### gocov convert

Running `gocov convert <coverprofile>` will convert a coverage
profile generated by `go tool cover` to gocov's JSON interchange
format. For example:

    go test -coverprofile=c.out
    gocov convert c.out | gocov annotate -

#### gocov report

Running `gocov report <coverage.json>` will generate a textual
report from the coverage data output by `gocov convert`. It is
assumed that the source code has not changed in between.

Output from ```gocov test``` is printed to stdout so users can
pipe the output to ```gocov report``` to view a summary of the test
coverage, for example: -

    gocov test | gocov report

#### gocov annotate

Running `gocov annotate <coverage.json> <package[.receiver].function>`
will generate a source listing of the specified function, annotating
it with coverage information, such as which lines have been missed.

## Related tools and services

[GoCovGUI](http://github.com/nsf/gocovgui/):
A simple GUI wrapper for the gocov coverage analysis tool.

[gocov-html](https://github.com/matm/gocov-html):
A simple helper tool for generating HTML output from gocov.

[gocov-xml](https://github.com/AlekSi/gocov-xml):
A simple helper tool for generating XML output in Cobertura format for CIs like
Jenkins and others from gocov.

## Building

### Requirements
- Go 1.23 or later

### Local Build
```bash
go build -o gocov ./gocov
```

### Cross-Platform Builds
The tool can be built for different operating systems and architectures:

```bash
# Linux amd64
GOOS=linux GOARCH=amd64 go build -o gocov-linux-amd64 ./gocov

# Linux arm64
GOOS=linux GOARCH=arm64 go build -o gocov-linux-arm64 ./gocov

# macOS amd64
GOOS=darwin GOARCH=amd64 go build -o gocov-darwin-amd64 ./gocov

# macOS arm64
GOOS=darwin GOARCH=arm64 go build -o gocov-darwin-arm64 ./gocov

# Windows amd64
GOOS=windows GOARCH=amd64 go build -o gocov-windows-amd64.exe ./gocov

# Windows arm64
GOOS=windows GOARCH=arm64 go build -o gocov-windows-arm64.exe ./gocov
```

### Compatibility

**Go Version Compatibility:**
- The tool requires Go 1.23 or later (minimum version)
- A single binary works with all Go 1.23+ installations - **no separate releases needed for different Go versions**
- The tool works with coverage profiles generated by Go 1.23 and later
- The tool calls `go test` and `go tool cover` from the user's installed Go version
- We test compatibility with Go 1.23, 1.24, and 1.25 in CI, but only build one set of binaries

**Platform Support:**
- Pre-built binaries are available for:
  - Linux (amd64, arm64)
  - macOS (amd64, arm64)
  - Windows (amd64, arm64)

## Credits

This is originally built at https://github.com/axw/gocov and after it is
archived and no longer support, community lacks coverage tool that produces
reports. Thus, maintaining the public repo to support latest golang versions.

